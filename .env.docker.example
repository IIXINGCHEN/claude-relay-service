# üê≥ Docker Compose Environment Configuration
# Copy this to .env for docker-compose deployment

# ============================================
# Service Configuration
# ============================================
PORT=13006
BIND_HOST=0.0.0.0

# ============================================
# Docker Image Configuration
# ============================================
# Leave empty for standard deployment
# For accelerated/offline deployment, set custom registries
NODE_IMAGE_REGISTRY=
NPM_REGISTRY=https://registry.npmjs.org
DOCKER_IMAGE=claude-relay-service:local
REDIS_IMAGE=redis:7-alpine

# Example for accelerated deployment (China):
# NODE_IMAGE_REGISTRY=docker.1panel.live/library/
# NPM_REGISTRY=https://registry.npmmirror.com
# REDIS_IMAGE=docker.1panel.live/library/redis:7-alpine

# ============================================
# Security Keys (REQUIRED - Generate these!)
# ============================================
# Generate JWT_SECRET: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=

# Generate ENCRYPTION_KEY: node -e "console.log(require('crypto').randomBytes(16).toString('hex'))"
ENCRYPTION_KEY=

# ============================================
# Admin Credentials (Optional)
# ============================================
# If not set, credentials will be auto-generated on first run
ADMIN_USERNAME=
ADMIN_PASSWORD=

# ============================================
# Redis Configuration
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_ENABLE_TLS=

# ============================================
# Additional Configuration
# ============================================

# Web Session (generate random secret)
WEB_SESSION_SECRET=

# Webhook notifications
WEBHOOK_ENABLED=true
WEBHOOK_URLS=
WEBHOOK_TIMEOUT=10000
WEBHOOK_RETRIES=3

# System timezone
SYSTEM_TIMEZONE=Asia/Shanghai
TIMEZONE_OFFSET=8

# Proxy settings
DEFAULT_PROXY_TIMEOUT=600000
MAX_PROXY_RETRIES=3
PROXY_USE_IPV4=true
REQUEST_TIMEOUT=600000

# Logging
LOG_LEVEL=info
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# System maintenance
CLEANUP_INTERVAL=3600000
TOKEN_USAGE_RETENTION=2592000000
HEALTH_CHECK_INTERVAL=60000

# Web interface
WEB_TITLE=Claude Relay Service
WEB_DESCRIPTION=Multi-account Claude API relay service with beautiful management interface
WEB_LOGO_URL=/assets/logo.png
ENABLE_CORS=true
TRUST_PROXY=true

# Session management
STICKY_SESSION_TTL_HOURS=1
STICKY_SESSION_RENEWAL_THRESHOLD_MINUTES=15

# ============================================
# For all other settings, see .env.example
# ============================================
